<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Source Themes Academic 4.8.0"><meta name=description content="The injector block specifies a particle source to be introduced through a simulation boundary. Each injector block specifies a source of a single species of particle defined by a density, centre of mass drift momentum, temperature and number of simulation particles per cell."><link rel=alternate hreflang=en-us href=/tutorial/input_deck_injector/><meta name=theme-color content="#3f51b5"><script src=/js/mathjax-config.js></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-1/css/all.min.css integrity="sha256-4w9DunooKSr3MFXHXWyFER38WmPdm361bQS/2KUWZbU=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/github.min.css crossorigin=anonymous title=hl-light><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/dracula.min.css crossorigin=anonymous title=hl-dark disabled><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.css integrity="sha256-SHMGCYmST46SoyGgo4YR/9AlK1vf3ff84Aq9yK4hdqM=" crossorigin=anonymous><script src=https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin=anonymous async></script><script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js integrity crossorigin=anonymous async></script><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap"><link rel=stylesheet href=/css/academic.css><link rel=manifest href=/index.webmanifest><link rel=icon type=image/png href=/images/icon_hucf2a1ead28adac6bbe3177e5d4e4a1f0_753_32x32_fill_lanczos_center_2.png><link rel=apple-touch-icon type=image/png href=/images/icon_hucf2a1ead28adac6bbe3177e5d4e4a1f0_753_192x192_fill_lanczos_center_2.png><link rel=canonical href=/tutorial/input_deck_injector/><meta property="twitter:card" content="summary"><meta property="og:site_name" content="EPOCH"><meta property="og:url" content="/tutorial/input_deck_injector/"><meta property="og:title" content=" | EPOCH"><meta property="og:description" content="The injector block specifies a particle source to be introduced through a simulation boundary. Each injector block specifies a source of a single species of particle defined by a density, centre of mass drift momentum, temperature and number of simulation particles per cell."><meta property="og:image" content="/images/logo_hub4b4d6a0f57638acebb5550a80c8c030_9243_300x300_fit_lanczos_2.png"><meta property="twitter:image" content="/images/logo_hub4b4d6a0f57638acebb5550a80c8c030_9243_300x300_fit_lanczos_2.png"><meta property="og:locale" content="en-us"><title>| EPOCH</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents><aside class=search-results id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Search</h1></div><div class="col-6 col-search-close"><a class=js-search href=#><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box><input name=q id=search-query placeholder=Search... autocapitalize=off autocomplete=off autocorrect=off spellcheck=false type=search></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/><img src=/images/logo_hub4b4d6a0f57638acebb5550a80c8c030_9243_0x70_resize_lanczos_2.png alt=EPOCH></a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/><img src=/images/logo_hub4b4d6a0f57638acebb5550a80c8c030_9243_0x70_resize_lanczos_2.png alt=EPOCH></a></div><div class="navbar-collapse main-menu-item collapse justify-content-end" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/#about><span>Home</span></a></li><li class=nav-item><a class=nav-link href=/license><span>License</span></a></li><li class=nav-item><a class=nav-link href=/publication><span>Publications</span></a></li><li class=nav-item><a class=nav-link href=/#quickstart><span>Quick Start</span></a></li><li class=nav-item><a class="nav-link active" href=/tutorial/><span>Tutorials</span></a></li><li class=nav-item><a class=nav-link href=/contact><span>Contact</span></a></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=#><i class="fas fa-search" aria-hidden=true></i></a></li></ul></div></nav><div class="container-fluid docs"><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 docs-sidebar"><form class="docs-search d-flex align-items-center"><button class="btn docs-toggle d-md-none p-0 mr-3" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation">
<span><i class="fas fa-bars"></i></span></button>
<input name=q type=search class=form-control placeholder=Search... autocomplete=off></form><nav class="collapse docs-links" id=docs-nav><div class=docs-toc-item><a class=docs-toc-link href=/tutorial/>Overview</a></div><div class=docs-toc-item><a class=docs-toc-link href=/tutorial/acknowledging_epoch/>Content</a><ul class="nav docs-sidenav"><li><a href=/tutorial/acknowledging_epoch/>Acknowledging EPOCH</a></li><li><a href=/tutorial/basic_examples/>Basic examples</a></li><li><a href=/tutorial/binary_files/>Binary files</a></li><li><a href=/tutorial/calculable_particle_properties/>Calculable particle properties</a></li><li><a href=/tutorial/compiler_flags/>Compiler Flags</a></li><li><a href=/tutorial/compiling/>Compiling</a></li><li><a href=/tutorial/deck_example/>Deck example</a></li><li><a href=/tutorial/decktransclusiontest/>DeckTransclusionTest</a></li><li><a href=/tutorial/example_creator/>Example creator</a></li><li><a href=/tutorial/faq/>FAQ</a></li><li><a href=/tutorial/formattingexamples/>FormattingExamples</a></li><li><a href=/tutorial/hrtest/>HRtest</a></li><li><a href=/tutorial/input_deck_adf/>Input deck adf</a></li><li><a href=/tutorial/input_deck_antenna/>Input deck antenna</a></li><li><a href=/tutorial/input_deck_boundaries/>Input deck boundaries</a></li><li><a href=/tutorial/input_deck_collisions/>Input deck collisions</a></li><li><a href=/tutorial/input_deck_constant/>Input deck constant</a></li><li><a href=/tutorial/input_deck_control/>Input deck control</a></li><li><a href=/tutorial/input_deck_dist_fn/>Input deck dist fn</a></li><li><a href=/tutorial/input_deck_field_operator/>Input deck field operator</a></li><li><a href=/tutorial/input_deck_fields/>Input deck fields</a></li><li class=active><a href=/tutorial/input_deck_injector/>Input deck injector</a></li><li><a href=/tutorial/input_deck_laser/>Input deck laser</a></li><li><a href=/tutorial/input_deck/>Input deck</a></li><li><a href=/tutorial/input_deck_operator/>Input deck operator</a></li><li><a href=/tutorial/input_deck_output_block/>Input deck output block</a></li><li><a href=/tutorial/input_deck_output_global/>Input deck output global</a></li><li><a href=/tutorial/input_deck_particle_file/>Input deck particle file</a></li><li><a href=/tutorial/input_deck_pipeline/>Input deck pipeline</a></li><li><a href=/tutorial/input_deck_probe/>Input deck probe</a></li><li><a href=/tutorial/input_deck_qed/>Input deck qed</a></li><li><a href=/tutorial/input_deck_species/>Input deck species</a></li><li><a href=/tutorial/input_deck_subset/>Input deck subset</a></li><li><a href=/tutorial/input_deck_test_page/>Input deck test page</a></li><li><a href=/tutorial/input_deck_window/>Input deck window</a></li><li><a href=/tutorial/landing_page/>Landing Page</a></li><li><a href=/tutorial/libraries/>Libraries</a></li><li><a href=/tutorial/links/>Links</a></li><li><a href=/tutorial/maths_parser/>Maths parser</a></li><li><a href=/tutorial/non-thermal_initial_conditions/>Non-thermal initial conditions</a></li><li><a href=/tutorial/numerical_heating/>Numerical heating</a></li><li><a href=/tutorial/previous_versions/>Previous versions</a></li><li><a href=/tutorial/running/>Running</a></li><li><a href=/tutorial/sidebar/>Sidebar</a></li><li><a href=/tutorial/structure/>Structure</a></li><li><a href=/tutorial/an_example_problem/>An example problem</a></li><li><a href=/tutorial/landing/>Landing</a></li><li><a href=/tutorial/using_delta_f/>Using delta f</a></li><li><a href=/tutorial/using_epoch_in_practice/>Using EPOCH in practice</a></li><li><a href=/tutorial/workshop_examples_continued/>Workshop examples continued</a></li><li><a href=/tutorial/workshop_examples/>Workshop examples</a></li><li><a href=/tutorial/visualising_sdf_files_with_idl_or_gdl/>SDF:Visualising SDF files with IDL or GDL</a></li><li><a href=/tutorial/visualising_sdf_files_with_llnl_visit/>SDF:Visualising SDF files with LLNL VisIt</a></li></ul></div><div class=docs-toc-item><a class=docs-toc-link href=/tutorial/sdf_landing_page/>SDF</a><ul class="nav docs-sidenav"><li><a href=/tutorial/sdf_landing_page/>SDF:Landing Page</a></li></ul></div></nav></div><div class="d-none d-xl-block col-xl-2 docs-toc"><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title>Contents</a></li></ul><nav id=TableOfContents></nav></div><main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role=main><article class=article><div class=docs-article-container><h1></h1><div class=article-style><p>The <em>injector</em> block specifies a particle source to be introduced
through a simulation boundary. Each injector block specifies a source of
a single species of particle defined by a density, centre of mass drift
momentum, temperature and number of simulation particles per cell. The
current version of the injectors is incompatible with the
PER_SPECIES_WEIGHT compiler flag, and attempting to use an injector
with a version of EPOCH compiled with this flag will fail.</p><h1 id=concepts>Concepts</h1><p>EPOCH can inject particles through any of the simulation boundaries.
This plasma is either a drifting Maxwellian corresponding to a
collisionally thermalized beam or a &ldquo;flux Maxwellian&rdquo; corresponding to
a Maxwellian source accelerated by an electrostatic accelerator. It can
have any temporal or transverse spatial profile of density, temperature
or drift that you wish to specify.</p><p>EPOCH does not automatically make any assumption about the plasma that
you wish to inject and does not correct for currents injected into the
domain. Current due to an injected beam will be smoothly created as the
particles enter the domain. If you wish to inject a neutral beam, you
will have to use multiple injectors to inject electrons and ions so as
to produce a neutral beam. Great care must be taken when introducing
relativistic beams since the current due to a highly relativistic beam
will not be the current due to the centre of mass velocity since EPOCH
does not use the Maxwell-Jüttner distribution for loading particles.</p><h1 id=boundary_conditions>Boundary conditions</h1><p>The injectors only work properly with certain boundary conditions. For
most purposes the &ldquo;open&rdquo; boundary condition is the only one that makes
sense with injectors since particles are flowing freely through the
boundary. Remember that in any version of EPOCH that supports injectors
you can also use per species boundary conditions to allow you to have
different boundary conditions for injected and bulk particles.</p><h1 id=moving_window>Moving window</h1><p>Injectors and moving windows can be tricky to work with, so the default
behaviour of EPOCH is to stop all injectors when the window starts to
move. If you wish to override this behaviour then simply explicitly set
t_end in the injector block to a value after the window starts to move.
Setting</p><pre><code class=language-perl> t_end = t_end 
</code></pre><p>will cause the injectors to continue running until the end of the
simulation even with the moving window. You must take great care when
specifying injectors for a moving window because you will likely get
gaps or bunches in particles injected through the x boundary and there
will probably be some shearing of particles introduced through y and z
boundaries. It is in general recommended that you specify a velocity
profile for the moving window that stops at times when particles are to
be injected and then starts again once the injection is complete.</p><h1 id=keys>Keys</h1><ul><li>boundary - specifies which boundary to attach the particle source
too. Same specification as the
<a href=/tutorial/input_deck_laser>laser block</a>, so
permitted values are x_min, x_max, y_min, y_max, z_min and
z_max</li><li>species - specifies which species should be injected through the
boundary. Just specify the name of the species required.</li><li>t_start - Time at which to start the injector</li><li>t_end - Time at which to end the injector</li><li>npart_per_cell - target pseudo-particle density for the injector.
Average number of particles injected will be this value or slightly
higher if very few particles are specified</li><li>number_density - Number density of the particle source in $m^{-3}$.
Can be space varying along the boundary to which the injector is
attached and time varying</li><li>number_density_min - Minimum number density in $m^{-3}$ below
which pseudo particles are not loaded. Use if the density has a
profile to avoid injecting low weight particles in low density
regions</li><li>temp_x - Temperature in x direction (K)</li><li>temp_y - Temperature in y direction (K)</li><li>temp_z - Temperature in z direction (K)</li><li>temp - Temperature in all directions (K)</li><li>drift_x - Momentum drift in x direction in $kgm/s$</li><li>drift_y - Momentum drift in x direction in $kgm/s$</li><li>drift_z - Momentum drift in x direction in $kgm/s$</li></ul><p>- Logical flag to determine whether to use an accelerated flux
Maxwellian rather than a drifting Maxwellian. This calculates the flux
due to passing a Maxwellian source into an electrostatic accelerator
instead of a drifting Maxwellian. If your particle source is a lab
accelerator then you may want to set this to true.</p><h1 id=example_deck>Example Deck</h1><pre><code class=language-perl>begin:injector
   boundary = x_min
   species = Electron
   number_density = dens
   temp_x = temp
   drift_x = drift_p
   npart_per_cell = 32
end:injector
</code></pre><h1 id=warnings>Warnings</h1><p>Currently injectors are a beta feature of EPOCH. We believe them to work
correctly, but unusual results must be considered suspect. If you get
unexpected results, please contact the EPOCH development team.</p></div><div class=article-widget><div class=post-nav><div class=post-nav-item><div class=meta-nav>Previous</div><a href=/tutorial/input_deck_fields/ rel=next></a></div><div class=post-nav-item><div class=meta-nav>Next</div><a href=/tutorial/input_deck_laser/ rel=prev></a></div></div></div></div><div class=body-footer><p>Last updated on Jan 1, 0001</p></div></article><footer class=site-footer><p class=powered-by>Powered by the
<a href=https://sourcethemes.com/academic/ target=_blank rel=noopener>Academic theme</a> for
<a href=https://gohugo.io target=_blank rel=noopener>Hugo</a>.</p></footer></main></div></div><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js integrity="sha256-eOgo0OtLL4cdq7RdwRUiGKLX9XsIJ7nGhWEKbohmVAQ=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/r.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.js integrity="sha256-EErZamuLefUnbMBQbsEqu1USa+btR2oIlCpBJbyD4/g=" crossorigin=anonymous></script><script>const code_highlighting=!0</script><script>const isSiteThemeDark=!1</script><script>const search_config={indexURI:"/index.json",minLength:1,threshold:.3},i18n={no_results:"No results found",placeholder:"Search...",results:"results found"},content_type={post:"Posts",project:"Projects",publication:"Publications",talk:"Talks"}</script><script src=https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.1/anchor.min.js integrity="sha256-pB/deHc9CGfFpJRjC43imB29Rse8tak+5eXqntO94ck=" crossorigin=anonymous></script><script>anchors.add()</script><script id=search-hit-fuse-template type=text/x-template>
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script><script src=https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin=anonymous></script><script src=/js/academic.min.6f1005d1a84220e2f466ff3d8e712f31.js></script><div id=modal class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><h5 class=modal-title>Cite</h5><button type=button class=close data-dismiss=modal aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=modal-body><pre><code class="tex hljs"></code></pre></div><div class=modal-footer><a class="btn btn-outline-primary my-1 js-copy-cite" href=# target=_blank><i class="fas fa-copy"></i> Copy</a>
<a class="btn btn-outline-primary my-1 js-download-cite" href=# target=_blank><i class="fas fa-download"></i> Download</a><div id=modal-error></div></div></div></div></div></body></html>